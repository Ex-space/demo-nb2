<!--  -->
<template>
  <div class="resources-container">
    <normalHeader></normalHeader>
    <div class="bkimg">
      <div class="container">
        <div
          class="item active"
          style="background-image: url(./statics/j1.jpg)"
        >
          <div class="shadow"></div>
          <div class="content">
            <div class="icon">
              <span
                class="iconfont icon-B"
                style="font-weight: 600; font-size: 42px"
              ></span>
            </div>
            <div class="text">
              <div class="tit">我的云盘</div>
              <div class="sub">
                欢迎使用我的云盘。云盘中的资源均为免费分享，请勿用作商业用途。愿未来的道路与你同行，愿你和我见证同样的精彩！
              </div>
            </div>
          </div>
        </div>
        <div class="item" style="background-image: url(./statics/j2.jpg)">
          <div class="shadow"></div>
          <div class="content">
            <div class="icon">
              <span
                class="iconfont icon-swticondianying"
                style="font-size: 34px"
              ></span>
            </div>
            <div class="text">
              <div class="tit">爱电影</div>
              <div class="sub">
                电影通过树立一个角色，让我们影众在心理的作用下，在观看电影时不知不觉中对这个角色心理认同、甚至替代、同化。不同的题材的电影能给人们带来不同的感受和触动,各种绚丽的视觉效果,都能给人们带来享受和放松。让人的视角层面拓展地更加旷远与宽阔,丰富观影者的思维角度,使之与原生蕴存的思想、观念得以多元交汇,收获新生精神的启蒙。它是光与电的交织,暗与影的碰撞。好的电影给你更开阔的眼界。愿你在电影中见证不一样的人生态度，获得独有的感动。
              </div>
            </div>
          </div>
        </div>
        <div class="item" style="background-image: url(./statics/j3.jpg)">
          <div class="shadow"></div>
          <div class="content">
            <div class="icon">
              <span
                class="iconfont icon-dongman"
                style="font-size: 42px"
              ></span>
            </div>
            <div class="text">
              <div class="tit">爱动漫</div>
              <div class="sub">
                它是人类心灵的一种寄托，不管你是伤心还是高兴，郁闷还是兴奋，在动漫里都可以找到具体的体现。看动漫可以适时适当的放松心情，缓解压力，让人在幻想中自由自在的遨游，在动漫中寻找到自己的理想和追求。愿你可以在动漫中找到最初的那一份感动，不忘少时的初心。
              </div>
            </div>
          </div>
        </div>
        <div class="item" style="background-image: url(./statics/j4.jpg)">
          <div class="shadow"></div>
          <div class="content">
            <div class="icon">
              <span class="iconfont icon-yinle1" style="font-size: 38px"></span>
            </div>
            <div class="text">
              <div class="tit">爱音乐</div>
              <div class="sub">
                庄重肃穆的音乐使人沉稳如山，轻快活泼的音乐使人飘忽如云，舒缓悠扬的音乐使人心静如水。它是你急噪不安时的一针镇定剂，是你忧伤感怀时的一抹笑容，是你灰心沮丧时的一句鼓舞。音乐能使人类的精神爆发出火花,让我们得以感受自然，感受人生，感受世界。我们在特定的时间，特定的地点听一首特殊的歌会有不同的感觉和效果。音乐作为艺术必不可少的一部分，他的意义就是我们生活和心情的调节剂，也是我们心灵的彼岸，精神的家园。愿你在音乐的海洋中找到真实的自我。
              </div>
            </div>
          </div>
        </div>
        <div class="item" style="background-image: url(./statics/j5.jpg)">
          <div class="shadow"></div>
          <div class="content">
            <div class="icon">
              <span
                class="iconfont icon-weibiaoti--"
                style="font-size: 34px"
              ></span>
            </div>
            <div class="text">
              <div class="tit">爱读书</div>
              <div class="sub">
                人生漫漫，读书的首要目标就是认知自我。在现代社会发展中，成绩并非唯一的出路，但学习却是我们一生所要追求的事情。学习是每个人成长道路上的启明灯，不仅为我们提供了丰富的精神食粮，还陶冶了情操，使我们知道该如何成为一个高质量的人，可以通过学习不断认知自我、提升自我。愿你的灵魂通过学习得到丰富和满足。
              </div>
            </div>
          </div>
        </div>
        <div class="item" style="background-image: url(./statics/j6.jpg)">
          <div class="shadow"></div>
          <div class="content">
            <div class="icon">
              <span class="iconfont icon-youxi" style="font-size: 38px"></span>
            </div>
            <div class="text">
              <div class="tit">爱游戏</div>
              <div class="sub">
                游戏不仅仅是生活的一种消遣，游戏的实质是通过保持旺盛的好奇心去不断认识世界，探索世界，在虚拟中创建一个不一样的你体验不一样的精彩人生。而不是逃避生活给予的考验。愿同样喜爱游戏的你可以保持这份旺盛的好奇心，勇敢迎接未知的挑。
              </div>
            </div>
          </div>
        </div>
        <div class="item" style="background-image: url(./statics/j7.jpg)">
          <div class="shadow"></div>
          <div class="content">
            <div class="icon">
              <span
                class="iconfont icon-shenghuo"
                style="font-size: 48px"
              ></span>
            </div>
            <div class="text">
              <div class="tit">爱人生</div>
              <div class="sub">
                生活越平淡，越需要忍耐。生活如流水，没有静水深流的积淀，就没有奔腾万里的激越与壮观。生活因为有理想，所以精彩。因为有梦，所以勇敢，我们都走在人生奋斗的路上。这条路也许很坎坷，也许很崎岖，也许一眼望不到头，也许在别人看来不可思议但是为了守住心中的那束阳光，愿你在未来坚持着自己的梦想，在人生的路上义无反顾地砥砺前行!
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="contain">
      <div class="container self">
        <div class="headTip">
          <span>名称</span>
          <span>修改时间</span>
          <span>大小</span>
        </div>
        <div class="content1" v-for="item in resourcesList" :key="item.id">
          <span class="title">
            <span class="iconfont icon-ziyuan"></span>
            {{ item.title }}
          </span>
          <span class="time">{{ item.updated_at }}</span>
          <span class="size">{{ item.size }}</span>
          <span
            class="iconfont icon-xiazai"
            @click="downloadFile(item.url, item.title)"
          ></span>
        </div>
      </div>
      <div class="noProblem self">
        <div class="head">
          <span>免责声明</span>
        </div>
        <li v-for="item in ruleList" :key="item.id" class="body">
          {{ item.content }}
        </li>
      </div>
    </div>
    <normalFooter></normalFooter>
  </div>
</template>

<script>
import normalHeader from "@/components/normalize/normalize-head.vue";
import normalFooter from "@/components/normalize/normalize-footer.vue";
export default {
  data() {
    return {
      waterFlag: true,
      flag: true,
      bkimg: "./statics/1.jpeg",
      resourcesList: [],
      ruleList: [
        {
          id: 1,
          content:
            "因不可抗力、网络状况、通讯线路、第三方网站、设备故障等任何原因而导致您不能正常使用，我们不做任何承诺，不承担任何责任。",
        },
        {
          id: 2,
          content:
            "云盘将严格遵守国家法律，如您发现下载内容引发您的不适或者低俗可以通过邮件联系我们，我们将在看到邮件后第一时间做出调整。",
        },
        {
          id: 3,
          content:
            "云盘内容如果涉及侵权，非法转载。请通过邮件联系我们，我们将第一时间做出调整。",
        },
        {
          id: 4,
          content:
            "本站为免费分享资源，云盘下载内容请勿作为商用。如有非法转载，我们将追究法律责任。",
        },
      ],
    };
  },

  components: {
    normalHeader,
    normalFooter,
  },
  async created() {
    await this.$http
      .get(`/netdisk/list`, {})
      .then((res) => {
        this.resourcesList = res.data.data;
      })
      .catch((Error) => {});
  },
  computed: {},
  mounted() {
    // 获取所有.item元素
    let items = document.querySelectorAll(".item");
    var self = this;

    // 设置选中态样式
    function setActive() {
      if (self.waterFlag) {
        self.waterFlag = false;
        setTimeout(() => {
          self.waterFlag = true;
        }, 1000);
        // 遍历所有.item元素，移出active样式
        items.forEach((item) => {
          item.classList.remove("active");
        });
        // 为当前选中项添加active样式
        this.classList.add("active");
      }
    }
    // 遍历所有.item元素，分别为其设置点击事件
    items.forEach((item) => {
      item.addEventListener("click", setActive);
    });
  },
  methods: {
    downloadUrlFile(url) {
      window.open(url);
      // let tempForm = document.createElement("form");
      // tempForm.action = url;
      // tempForm.method = "get";
      // tempForm.style.display = "none";
      // document.body.appendChild(tempForm);
      // tempForm.submit();
      // return tempForm;
    },
    async downloadFile(url, fileName) {
      const url2 = url.replaceAll(/\\/g, "/");
      const xhr = new XMLHttpRequest();
      xhr.open("GET", url2, true);
      xhr.responseType = "blob";
      xhr.onload = () => {
        if (xhr.status === 200) {
          this.saveAs(xhr.response, fileName);
        }
      };
      xhr.send();
    },
    saveAs(data, name) {
      const urlObj = window.URL || window.webkitURL || window;
      const export_blob = new Blob([data]);
      const save_link = document.createElement("a");
      const href = urlObj.createObjectURL(export_blob);
      save_link.href = href;
      save_link.download = name;
      document.body.appendChild(save_link);
      save_link.click();
      document.body.removeChild(save_link);
      window.URL.revokeObjectURL(href);
    },
  },
};
</script>
<style lang="less" scoped>
@keyframes all {
  from {
    opacity: 0;
    transform: translateY(-200px);
  }

  to {
    opacity: 1;
  }
}

@keyframes banner {
  from {
    opacity: 0;
    transform: translate(-400px) rotateY(90deg);
  }

  to {
    opacity: 1;
  }
}

.resources-container {
  animation: all 1s;

  @keyframes img {
    20% {
      opacity: 0;
      transform: translateY(-200px);
    }

    to {
      opacity: 1;
      transform: translate(0);
    }
  }

  .bkimg {
    width: 100%;
    height: 500px;
    overflow: hidden;

    .container {
      animation: img 1s alternate;
      display: flex;
      max-width: 100%;
      height: 500px;
      margin: 0;
      padding: 0;
      width: 100%;
      /* 溢出隐藏 */
      overflow: hidden;
    }

    .item {
      /* 相对定位 */
      position: relative;
      width: 80px;
      cursor: pointer;
      /* 保持原有尺寸比例，裁切长边 */
      background-size: cover;
      /* 定位背景图像为正中间 */
      background-position: center;
      /* 过渡效果：时长 贝塞尔曲线 */
      transition: 1s cubic-bezier(0.05, 0.61, 0.41, 0.95);
      // overflow: hidden;
    }

    .item .shadow {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 100px;
      transition: 1s cubic-bezier(0.05, 0.61, 0.41, 0.95);
    }

    .item .content {
      display: flex;
      position: absolute;
      left: 10px;
      right: 0;
      bottom: 50%;
      transform: translateY(50%);
      height: 120px;
      margin-bottom: 40px;
      transition: 1s cubic-bezier(0.05, 0.61, 0.41, 0.95);
    }

    @keyframes icon {
      50% {
        opacity: 0;
        transform: scale(0.2);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .item .content .icon {
      transition: all 1s;
      min-width: 80px;
      margin-left: -10px;
      width: 80px;
      height: 80px;
      transform: translateY(50%);
      background-color: rgba(255, 255, 255, 0.4);
      display: flex;
      backdrop-filter: blur(5.5px);
      justify-content: center;
      align-items: center;
      font-size: 16px;

      .iconfont {
        animation: icon 1.5s;
        transition: all 0.3s;
        color: #333;
        font-size: 30px;
      }
    }

    @keyframes subtxt {
      20% {
        opacity: 0.4;
        transform: translateX(200px);
      }

      to {
        opacity: 1;
        transform: translate(0);
      }
    }

    @keyframes tit {
      20% {
        opacity: 0.4;
        transform: translateY(-180px);
      }

      // 40% {
      //   opacity: .6;
      //   transform:scale(.6) translateY(0px);
      // }
      // 60% {
      //   opacity: .8;
      //   transform:scale(.8) translateY(-80px);
      // }
      to {
        opacity: 1;
        transform: scale(1) translateY(0px);
      }
    }

    .item .content .text {
      display: flex;
      flex-direction: column;
      justify-content: center;
      margin-left: 10px;
      color: #333;
      width: 100%;
    }

    .item .content .text div {
      /* 超出显示省略号（需要设置width） */
      width: calc(100% - 20px);
      // text-overflow: ellipsis;
      // overflow: hidden;
      // white-space: nowrap;
      opacity: 0;
      transition: opacity 0.1s ease-out;
    }

    .item .content .text .tit {
      animation: tit 1.5s alternate;
      transform: translateY(-80px);
      font-weight: bold;
      font-size: 38px;
    }

    .item .content .text .sub {
      animation: subtxt 1.5s alternate;
      font-size: 14px;
      font-weight: 500;
      transform: scale(0.5);
      /* 设置过渡效果延迟时间 */
      transition-delay: 0.2s;
    }

    /* 选中态样式 */
    .item.active {
      flex: 1;
    }

    .item.active .icon {
      transition: 1s cubic-bezier(0.05, 0.61, 0.41, 0.95);
      width: 100%;
      opacity: 0;

      .iconfont {
        opacity: 0;
      }
    }

    .item.active .shadow {
      transition: 1s cubic-bezier(0.05, 0.61, 0.41, 0.95);
      background: linear-gradient(
        to top,
        rgba(255, 255, 255, 0.85),
        rgba(255, 255, 255, 0.25) 40%,
        transparent
      );
      height: 100%;
    }

    .item.active .content {
      transition: 1s cubic-bezier(0.05, 0.61, 0.41, 0.95);
      bottom: 65px;
      left: 10px;
      display: flex;
      flex-direction: column;
      align-items: start;
      justify-content: center;
    }

    .item.active .content .text div {
      transition: 1s cubic-bezier(0.05, 0.61, 0.41, 0.95);
      opacity: 1;
    }

    .item.active .content .text .tit {
      transform: translateY(0px);
      transition-delay: 0.5s;
      // transition: 1s cubic-bezier(0.05, 0.61, 0.41, 0.95);
      opacity: 1;
    }

    .item.active .content .text .sub {
      transform: scale(1);
      transition-delay: 1s;
      // transition: 1s cubic-bezier(0.05, 0.61, 0.41, 0.95);
      opacity: 1;
    }
  }

  .self {
    box-shadow: 3px 3px 12px -2px #ccc;
    background-color: #fff;
    border-radius: 8px;
  }

  @keyframes container {
    from {
      opacity: 0;
      transform: scale(0.4) translate(900px);
    }

    to {
      opacity: 1;
      transform: scale(1) translate(0);
    }
  }

  @keyframes problem {
    from {
      opacity: 0;
      transform: scale(0.4) translate(-900px);
    }

    to {
      opacity: 1;
      transform: scale(1) translate(0);
    }
  }

  .container {
    animation: container 1s;
    padding: 10px 15px;
    margin-top: 40px;
    width: 70%;
    margin-left: 15%;

    .headTip {
      border-bottom: 1px solid #ccc;
      font-size: 16px;
      font-weight: 600;
      display: grid;
      grid-template-columns: 18fr 4fr 2fr;
      padding-bottom: 5px;
      color: rgb(147, 147, 147);
    }

    .content1 {
      display: grid;
      grid-template-columns: 36fr 8fr 3fr 1fr;
      grid-template-areas: "center";
      justify-content: center;
      align-items: center;
      // align-items: center;
      transition: all 0.5s;
      height: 35px;
      margin: 5px 0;
      // background-color: pink;
      border-radius: 4px;

      .icon-ziyuan {
        color: #409eff;
        font-size: 18px;
        // margin: 0 10px;
        margin-right: 3px;
        -webkit-transform: scaleX(1.2);
        -moz-transform: scaleX(1.2);
        -o-transform: scaleX(1.2);
        transform: scaleX(1.3);
      }

      .title {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        // width: 453px;
        font-size: 13px;
        font-weight: 500;
      }

      .size {
        // width: 300px;
        // margin-left: 50px;
      }

      .icon-xiazai {
        // margin-left: 30px;
        font-size: 20px;
        cursor: pointer;
        color: #409eff;
        font-weight: 600;
      }
    }

    .content1:hover {
      background-color: rgb(227, 227, 227);
      transform: scale(1.01);
    }
  }

  .noProblem {
    animation: problem 1s;
    padding: 10px 15px;
    margin-top: 30px;
    margin-left: 15%;
    width: 70%;

    .head {
      margin-bottom: 10px;
      position: relative;
      transition: all 0.5s;
      color: rgb(147, 147, 147);
      font-weight: 600;
      font-size: 24px;
    }

    .head::after {
      content: "";
      transition: all 0.5s;
      position: absolute;
      left: 0;
      bottom: -2px;
      display: inline-block;
      width: 100%;
      height: 1px;
      background-color: #ccc;
    }

    .head:hover {
      color: #333;
    }

    .head:hover::after {
      width: 95.5px;
      height: 3px;
      border-radius: 1px;
      background-color: #409eff;
    }

    .body {
      color: rgb(147, 147, 147);
      list-style: decimal;
      margin-top: 0px;
      font-weight: 500;
      font-size: 16px;
    }
  }
}
</style>
